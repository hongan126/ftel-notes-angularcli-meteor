<div class="mdl-grid mdl-grid--no-spacing content-notes-manager">
  <!--Note Group list DIV-->
  <div class="mdl-cell mdl-cell--3-col mdl-cell--2-col-tablet mdl-cell--1-col-phone note-group-layout">
    <!--menu of NoteGroup-->
    <div class="head-menu-bar" style="background-color: #E0E0E0;">
      <span class="padding-left-font-bold">Group</span>
      <div class="fill-remaining-space"></div>
      <button mat-icon-button (click)="openNoteGroupRemoveDialog()">
        <i class="fa fa-minus icon-btn-size-m" aria-hidden="true"></i>
      </button>
      <button mat-icon-button (click)="openNoteGroupAddDialog()">
        <i class="fa fa-plus icon-btn-size-m" aria-hidden="true"></i>
      </button>
    </div>

    <div class="note-group-list">
      <mat-selection-list aria-multiselectable="false" color="primary">
        <mat-list-option *ngFor="let group of noteGroups | async"
                         (click)="loadNoteList(group)"
                         [selected]="group===selectedGroup"
                         [class.selectedGroup]="group===selectedGroup">
          {{group.name}}
          <!--+" - "+ group._id-->
        </mat-list-option>
      </mat-selection-list>
      <!--Todo delete-->
      <!--{{newNote|json}}-->
      <!--{{max}}-->
      {{user|json}}
    </div>

  </div><!--End of NoteGroup list-->

  <!--Notes list DIV-->
  <div class="mdl-cell mdl-cell--9-col mdl-cell--6-col-tablet mdl-cell--3-col-phone notes-list-layout"
       *ngIf="selectedGroup">
    <div class="head-menu-bar">
      <span class="padding-left-font-bold">{{selectedGroup.name}}</span>
      <button mat-button [matMenuTriggerFor]="shareMenu" style="font-size: 1em;">
        Public (2) <i class="fa fa-caret-down" aria-hidden="true"></i>
      </button>
      <mat-menu #shareMenu="matMenu">
        <button mat-menu-item>
          <span>Invite...</span>
        </button>
        <button mat-menu-item disabled>
          <span>Set private</span>
        </button>
        <button mat-menu-item (click)="openShareManagerRemoveDialog()">
          <span>Nguyễn Văn A</span>
        </button>
      </mat-menu>
    </div>

    <!--New note Button-->
    <div style="display: inline;">
      <button mat-raised-button (click)="openNoteDialog()" class="btn-new-note">New note</button>
    </div>

    <!--List note-->
    <div class="notes-list">
      <div class="note-card" *ngFor="let note of notesList | async">
        <!--todo delete-->
        <!--{{ note | json }}-->
        <div class="note-card-title">
          <div>
            <span>{{note.title}}</span><br/>
            <span style="font-size: 0.9em; color: gray; font-style: italic;">{{note.createdAt|date:"dd/MM/yyyy"}}</span>
          </div>
          <div class="fill-remaining-space"></div>
          <mat-spinner [@loadState]="state" mode="indeterminate" [diameter]="24"
                       style="margin-top: auto; margin-bottom: auto; opacity: 0;"></mat-spinner>
          <button mat-icon-button [matMenuTriggerFor]="itemMenu" style="font-size: 1em;">
            <i class="fa fa-ellipsis-v" style="font-size: 1.5em;" aria-hidden="true"></i>
          </button>
          <mat-menu #itemMenu="matMenu">
            <button mat-menu-item (click)="setPositionForNote(note.groupId, note._id, true)">
              <span>Move to top</span>
            </button>
            <button mat-menu-item (click)="setPositionForNote(note.groupId, note._id, false)">
              <span>Move to bottom</span>
            </button>
            <button mat-menu-item (click)="openNoteDialog(note)">
              <span>Edit</span>
            </button>
            <button mat-menu-item (click)="openRemoveNoteDialog(note)">
              <span>Delete</span>
            </button>
          </mat-menu>
        </div>
        <div *ngIf="isTextNote(note.type)" class="note-card-content">
          {{note.content}}
        </div>
        <div *ngIf="!isTextNote(note.type)" class="note-card-content">
          <div *ngFor="let todo of note.todoList">
            <mat-checkbox color="primary" [checked]="todo.checked" [class.checked]="todo.checked"
                          (change)="todoItemChange(todo, note)">
              {{todo.content}}
              <!--- {{todo.checked}}-->
            </mat-checkbox>
          </div>
        </div>
      </div>

    </div><!--End of Notes list-->
  </div>
</div>



